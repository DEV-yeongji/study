2021.01.04

★메이븐(Maven) 이란?
- 빌드툴..특정 IDE에 종속 되지 않는다
-  [ 프로젝트 생성 - 라이브러리 설정 - 코드작업 - 컴파일 - 테스트 - 패키지 만들기 -배포 ]
 이런 반복적인 내용을 효율적으로 관리하고 도와주는 역할이다..
-  빌드 과정을 굉장히 경량화 시킬 수 있다.
-  이클립스, 비쥬얼스튜디오코드 는 빌드툴이 아니라 IDE 이다..
-  필요한 라이브러리를 pom.xml에 정의해 놓으면 사용할 라이브러리 뿐만 아니라 해당 라이브러리가 작동하는데
필요한 다른 라이브러리까지 관리하여 자동으로 다운 받아준다.
- 컴파일과 빌드를 동시에 수행한다.

★빌드툴이란? 프로젝트 생성, 테스트 빌드, 배포등의 작업을 위한 전용 프로그램이며 빠른 기간 동안 계속해서 늘어나는
라이브러리 추가 프로젝트를 진행하고 라이브러브러리 버전 동기화의 어려움을 해소하고자 등장했다.


★POM : Project Object Model
pom.xml은 메이븐을 이용하는 프로젝트의 root에 존재. 파일은 프로젝트마다 1개이다.
프로젝트의 모든 설정, 의존성 등을 알 수 있음. 프로젝트에 import되는 jar파일 정보 및 버전정보를 담고 있으며 최종적으로 패키징되는 기준값을 담고 있다.

sts에서 주로 사용하는 레거시 프로젝트 의 메이븐 라이브러리 경로는 사용자 m2폴더 - repository 폴더 안에 있다.
메이븐 소스를 추가하면 경로를 통해서 내 컴퓨터의 어떤 디폴트 폴더 안에 다운받아진다..

★ 메이븐의 라이프사이클
프레임워크이기 때문에 동작 방식이 정해져 있고, 미리 정의하고 있는 빌드 순서가 있다.
이를 라이프사이클 이라고 한다.
1. Default(build) : 일반적인 빌드 프로세스를 위한 모델
2. Clean : 빌드시 생성된 파일을 삭제하는 단계
3. Validate : 프로젝트가 올바른지 확인하고 필요한 모든 정보를 사용 가능한지 확인
4. Compile : 프로젝트의 소스코드를 컴파일
5. Test : 유닛 테스트를 수행하는 단계 (실패시 빌드 실패로 처리, 스킵 가능)
6. Pacakge : 실제 컴파일 된 소스 코드와 리소스들을 jar, war 등의 파일 배포를 위한 패키지로 만드는 단계
7. Verify : 통합 테스트 결과에 대한 검사를 실행하여 품질 기준을 충족하는지 확인
8. Install : 패키지를 로컬저장소에 설치하는 단계
9. Site : 프로젝트 문서와 사이트 작성, 생성하는 단계
10. Deploy : 만들어진 패키지를 원격저장소에 release하는 단계
최종 빌드 순서는 compile -> test -> package 이다.

컴파일은 src/main/java 아래의 모든 소스가 컴파일 된다.
빌드 라이프사이클의 각각의 단계를 phase라고 하는데, 의존관계를 나타낸다.
phase가 수행되려면 이전단계가 모두 수행되어야 한다. 이러한 것이 의존이다.

저장소 :
https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-api
여기서 자기에게 맞는 버전을 선택한뒤 dependency를 복사한 후 pom에 적용하면 
자동으로 라이브러리가 다운받아진다.

출처 : https://blog.naver.com/ambidext/221976429408 , https://blog.naver.com/dktmrorl/222131777444